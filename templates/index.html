<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>Pranay Bahuguna</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
        <style>
        :root{--accent:#8ab4f8}html,body{height:100%;margin:0;background:#050511;color:#fff;font-family:'Poppins',sans-serif}#tsparticles{position:fixed;inset:0;z-index:0}.content-wrap{position:relative;z-index:10;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem}
        .glass{background:rgba(255,255,255,0.04);backdrop-filter:blur(8px);border-radius:1rem;overflow:hidden}.hero-name{font-family:'Playfair Display',serif;font-weight:700;font-size:2rem;background:linear-gradient(90deg,#ff7a18,#af2dff,#18a6ff);-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:0 8px 30px rgba(0,0,0,0.5)}
        canvas#audio-visualizer{position:fixed;inset:0;z-index:5;pointer-events:none;opacity:.25}.short-card{transition:transform .25s,box-shadow .25s;border-radius:.5rem;overflow:hidden;background:rgba(255,255,255,0.02)}
        .short-card:hover{transform:translateY(-6px);box-shadow:0 12px 30px rgba(0,0,0,.6)}
        footer#gift-footer{opacity:0;transform:translateY(20px);transition:all .6s;margin-top:3rem}
        footer#gift-footer.visible{opacity:1;transform:translateY(0)}footer#gift-footer .inner{background:rgba(0,0,0,0.45);backdrop-filter:blur(6px);padding:.6rem 1rem;border-radius:8px;display:flex;justify-content:center}
        .gift-text{
            font-family:'Playfair Display',
            serif;font-size:1rem;
            color:white;
            letter-spacing:.8px;
            text-shadow:0 6px 20px rgba(138,180,248,0.15)}
        .shorts-slider {
            display: flex;
            overflow-x: auto;
            gap: 16px;
            scroll-behavior: smooth;
            padding: 10px 0;
            }
            .shorts-slider::-webkit-scrollbar {
            height: 6px;
            }
            .shorts-slider::-webkit-scrollbar-thumb {
            background-color: #888;
            border-radius: 4px;
            }
            .short {
            flex: 0 0 auto;
            width: 180px;
            text-align: center;
            }
            .short img {
            width: 100%;
            border-radius: 10px;
            transition: transform 0.3s;
            }
            .short img:hover {
            transform: scale(1.05);
            }
            @media(max-width:768px){.short-grid{grid-template-columns:repeat(2,1fr)}}@media(max-width:480px){.short-grid{grid-template-columns:1fr}.hero-name{font-size:1.4rem}}

        </style>
        </head>
        <body>
            <div id="tsparticles"></div>
            <canvas id="audio-visualizer"></canvas>
            <div class="content-wrap">
                <div class="max-w-5xl w-full glass shadow-2xl p-4">
                    <div class="md:flex items-start">
                        <div class="md:w-1/3 p-6 text-center">
                               <img src="{{ url_for('static', filename='images/Pranay_Bahuguna.jpg') }}" 
     class="logo mx-auto rounded-2xl border-2 border-transparent hover:border-purple-400 transition-all duration-300 hover:scale-105" alt="logo"/>
                                <div class="hero-name mt-4">Pranay Bahuguna</div>
                            <p class="mt-2 text-sm opacity-80">Singer â€¢ Performer â€¢ Cover Artist</p>
                            <img id="hero-img" src="{{ url_for('static', filename='images/Pranay_Bahuguna.jpg') }}" alt="Pranay" class="mx-auto rounded-xl w-48 h-48 md:w-64 md:h-64 object-cover shadow-lg mt-4"/>
                            <div class="mt-4 flex justify-center gap-5">
                                        <a target="_blank" href="https://www.youtube.com/@pranay.bahuguna" 
                                        class="text-2xl hover:scale-125 transition-transform duration-300">
                                            <i class="fab fa-youtube" style="background: linear-gradient(45deg, #FF0000, #FF3333); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></i>
                                        </a>
                                        <a target="_blank" href="https://www.instagram.com/pranay.bahuguna/" 
                                        class="text-2xl hover:scale-125 transition-transform duration-300">
                                            <i class="fab fa-instagram" style="background: linear-gradient(45deg, #833AB4, #C13584, #E1306C, #FD1D1D, #F77737); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></i>
                                        </a>
                                        <a target="_blank" href="https://open.spotify.com/artist/4sC4LJXBR7FyCKMJVgLfBN" 
                                        class="text-2xl hover:scale-125 transition-transform duration-300">
                                            <i class="fab fa-spotify" style="background: linear-gradient(45deg, #1DB954, #1ED760); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></i>
                                        </a>
                                    </div>
                                    </div>
                                    <div class="md:w-2/3 p-6"><section><h2 class="text-xl font-medium">Biography</h2><p class="mt-2 text-sm opacity-90">Pranay Bahuguna is a modern vocalist blending soulful emotion with contemporary arrangements. Known for heartfelt covers and dynamic live performances.</p></section><section class="mt-6">
                                        <h2 class="text-lg font-medium">Gallery</h2>
                                        <div id="gallery" class="mt-3 grid grid-cols-2 gap-2">{% for s in songs[:6] %}<div class="overflow-hidden"><img class="thumb" src="https://img.youtube.com/vi/{{ s.video_id }}/hqdefault.jpg" alt="{{ s.title }}"/></div>{% endfor %}</div></section><section class="mt-6"><h2 class="text-lg font-medium">Now playing</h2><div class="mt-3 flex items-center gap-4"><button id="play-btn" class="px-4 py-2 rounded-lg glass">Play</button><div><div id="now-title" class="font-semibold">â€”</div><div id="now-index" class="text-sm opacity-80">0 / {{ songs|length }}</div></div></div><div class="mt-4"><h3 class="text-sm opacity-80">Playlist</h3><ul id="playlist" class="mt-2 space-y-2 max-h-44 overflow-auto">{% for s in songs %}<li class="flex items-center gap-3 p-2 rounded hover:bg-white/5 cursor-pointer" data-idx="{{ loop.index0 }}"><img src="https://img.youtube.com/vi/{{ s.video_id }}/default.jpg" class="w-12 h-8 object-cover rounded"/><div class="text-sm"><div class="font-medium">{{ s.title }}</div></div></li>{% endfor %}</ul></div></section><section class="mt-6"><h2 class="text-lg font-medium mb-3">Listen on Spotify</h2><iframe style="border-radius:12px" src="https://open.spotify.com/embed/artist/4sC4LJXBR7FyCKMJVgLfBN?utm_source=generator" width="100%" height="152" frameBorder="0" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy">

                                        </iframe></section>
                                         <section class="mt-8" id="shorts-section">
                                                <h2 class="text-lg font-medium mb-3">Latest YouTube Shorts ðŸŽ¬</h2>

                                                <div class="shorts-slider">
                                                    {% for s in shorts %}
                                                    <div class="short">
                                                    <a href="https://www.youtube.com/watch?v={{ s.videoId }}" target="_blank">
                                                        <img src="{{ s.thumbnail }}" alt="{{ s.title }}">
                                                        <p class="mt-2 text-sm font-medium">{{ s.title }}</p>
                                                    </a>
                                                    </div>
                                                    {% endfor %}
                                                </div>
                                                </section>
                                            <footer id="gift-footer" class="mt-10"><div class="inner"><div class="gift-text">Gift For Magician</div></div></footer></div></div></div></div></div><div id="yt-player"></div><script src="https://www.youtube.com/iframe_api"></script><script src="https://cdn.jsdelivr.net/npm/tsparticles@2.11.0/tsparticles.bundle.min.js"></script><script>window.onload=function(){tsParticles.load("tsparticles",{fullScreen:{enable:false},particles:{number:{value:60,density:{enable:true,area:800}},color:{value:["#ffffff","#8ab4f8","#c678dd"]},shape:{type:"circle"},opacity:{value:0.6,random:{enable:true,minimumValue:0.2}},size:{value:{min:1,max:4}},move:{enable:true,speed:0.8,direction:"none",outModes:"out"},links:{enable:true,distance:120,color:"#ffffff",opacity:0.08,width:1}},interactivity:{events:{onHover:{enable:true,mode:"grab"},onClick:{enable:true,mode:"repulse"}},modes:{grab:{distance:140,links:{opacity:0.2}},repulse:{distance:120}}},detectRetina:true,background:{color:"#050511"}})};const playlist=[{% for s in songs %}{title:`{{ s.title|replace("`","'") }}`,id:"{{ s.video_id }}"},{% endfor %}];let player,current=0;const nowTitle=document.getElementById('now-title'),nowIndex=document.getElementById('now-index'),playBtn=document.getElementById('play-btn'),playlistEl=document.getElementById('playlist');function onYouTubeIframeAPIReady(){player=new YT.Player('yt-player',{height:'0',width:'0',videoId:playlist[0].id,playerVars:{'playsinline':1,'rel':0},events:{'onReady':onPlayerReady,'onStateChange':onPlayerStateChange}});updateNow()}function onPlayerReady(){playlistEl.querySelectorAll('li').forEach(li=>{li.addEventListener('click',()=>{const idx=Number(li.dataset.idx);current=idx;playTrack(current);});});}function updateNow(){nowTitle.innerText=playlist[current].title;nowIndex.innerText=(current+1)+' / '+playlist.length;document.getElementById('hero-img').src=`https://img.youtube.com/vi/${playlist[current].id}/maxresdefault.jpg`}playBtn.addEventListener('click',()=>{if(!player)return;const state=player.getPlayerState();if(state!==YT.PlayerState.PLAYING){playTrack(current);playBtn.innerText='Pause';}else{player.pauseVideo();playBtn.innerText='Play';}});function playTrack(idx){player.loadVideoById(playlist[idx].id);player.playVideo();updateNow();playlistEl.querySelectorAll('li').forEach(li=>li.classList.remove('bg-white/8'));const active=playlistEl.querySelector(`[data-idx="${idx}"]`);if(active)active.classList.add('bg-white/8');}function onPlayerStateChange(e){if(e.data===YT.PlayerState.ENDED){current=(current+1)%playlist.length;playTrack(current);}else if(e.data===YT.PlayerState.PLAYING){playBtn.innerText='Pause';}else if(e.data===YT.PlayerState.PAUSED){playBtn.innerText='Play';}}const canvas=document.getElementById('audio-visualizer'),ctx=canvas.getContext('2d');let WIDTH,HEIGHT,analyser,dataArray;function resizeCanvas(){WIDTH=canvas.width=window.innerWidth;HEIGHT=canvas.height=window.innerHeight}window.addEventListener('resize',resizeCanvas);resizeCanvas();const audioCtx=new(window.AudioContext||window.webkitAudioContext)(),oscillator=audioCtx.createOscillator(),gain=audioCtx.createGain();analyser=audioCtx.createAnalyser();analyser.fftSize=256;dataArray=new Uint8Array(analyser.frequencyBinCount);oscillator.type='sine';oscillator.frequency.setValueAtTime(440,audioCtx.currentTime);oscillator.connect(analyser);analyser.connect(gain);gain.connect(audioCtx.destination);gain.gain.value=0;oscillator.start();function draw(){requestAnimationFrame(draw);analyser.getByteFrequencyData(dataArray);ctx.clearRect(0,0,WIDTH,HEIGHT);const barWidth=(WIDTH/dataArray.length);let x=0;for(let i=0;i<dataArray.length;i++){const barHeight=dataArray[i]/2;ctx.fillStyle=`rgba(138,180,248,${barHeight/255})`;ctx.fillRect(x,HEIGHT-barHeight,barWidth,barHeight);x+=barWidth+1}}document.getElementById('play-btn').addEventListener('click',()=>{audioCtx.resume();gain.gain.value=0.5;setTimeout(()=>gain.gain.value=0,200)});draw();async function loadShorts(){try{const res=await fetch('/api/shorts');const data=await res.json();const grid=document.getElementById('shorts-grid');if(data.items&&data.items.length){document.getElementById('shorts-empty').classList.add('hidden');grid.innerHTML='';data.items.forEach(it=>{const div=document.createElement('div');div.className='short-card p-2';div.innerHTML=`<a href="https://www.youtube.com/watch?v=${it.videoId}" target="_blank" rel="noopener" class="block"><img src="${it.thumbnail}" alt="${it.title}" class="w-full h-40 object-cover rounded" /><div class="mt-2 text-sm font-medium">${it.title}</div><div class="text-xs opacity-70">${new Date(it.publishedAt).toLocaleDateString()}</div></a>`;grid.appendChild(div);});}else{document.getElementById('shorts-empty').classList.remove('hidden')}}catch(e){console.error(e);document.getElementById('shorts-empty').classList.remove('hidden')}}loadShorts();const footer=document.getElementById('gift-footer');const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){footer.classList.add('visible')}})},{threshold:.2});observer.observe(footer);</script></body></html>
